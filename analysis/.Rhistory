filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
df_avg_freq_jittered_in <- df_avg_freq %>%
filter(Direction == "In-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Know)" ~ 0.025,
parent == "Matrix Wh-Q" ~ 0.02,
parent == "Topicalization" ~ -0.05,
parent == "Cleft" ~ -0.015,
TRUE ~ 0
)
)
df_avg_freq_jittered_out <- df_avg_freq %>%
filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
df_avg_freq_jittered_in <- df_avg_freq %>%
filter(Direction == "In-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Know)" ~ 0.025,
parent == "Matrix Wh-Q" ~ 0.02,
parent == "Topicalization" ~ -0.06,
parent == "Cleft" ~ -0.015,
TRUE ~ 0
)
)
df_avg_freq_jittered_out <- df_avg_freq %>%
filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
df_avg_freq_jittered_in <- df_avg_freq %>%
filter(Direction == "In-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Know)" ~ 0.03,
parent == "Matrix Wh-Q" ~ 0.02,
parent == "Topicalization" ~ -0.06,
parent == "Cleft" ~ -0.015,
TRUE ~ 0
)
)
df_avg_freq_jittered_out <- df_avg_freq %>%
filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
df_avg_freq_jittered_in <- df_avg_freq %>%
filter(Direction == "In-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Know)" ~ 0.03,
parent == "Matrix Wh-Q" ~ 0.05,
parent == "Topicalization" ~ -0.06,
parent == "Cleft" ~ -0.015,
TRUE ~ 0
)
)
df_avg_freq_jittered_out <- df_avg_freq %>%
filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
df_avg_freq_jittered_in <- df_avg_freq %>%
filter(Direction == "In-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Know)" ~ 0.03,
parent == "Matrix Wh-Q" ~ 0.02,
parent == "Topicalization" ~ -0.06,
parent == "Cleft" ~ -0.015,
TRUE ~ 0
)
)
df_avg_freq_jittered_out <- df_avg_freq %>%
filter(Direction == "Out-Degree") %>%
mutate(
nudge_y = case_when(
parent == "Emb. Wh-Q\n(Wonder)" ~ 0.05,
parent == "Matrix Wh-Q" ~ -0.02,
parent == "Topicalization" ~ 0.03,
parent == "Cleft" ~ 0.01,
TRUE ~ 0
)
)
p_in_scatter <- ggplot(df_avg_freq_jittered_in,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_in$nudge_y
) +
labs(
title = "In-Degree",
x = NULL,
y = "Mean AUC"
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none"
)
p_out_scatter <- ggplot(df_avg_freq_jittered_out,
aes(x = frequency, y = mean_auc)) +
geom_smooth(method = 'lm', se = FALSE, linetype = "dotted", color = "black") +
geom_point(aes(color = parent), size = 4, alpha = 0.5) +
geom_text_repel(
aes(label = parent, color = parent),
size = 5, family = "Palatino", fontface = "bold",
max.overlaps = Inf, force = 2, box.padding = 0.5,
nudge_y = df_avg_freq_jittered_out$nudge_y
) +
labs(
title = "Out-Degree",
x = NULL,
y = NULL
) +
scale_x_log10() +
ylim(0, .5) +
scale_color_manual(values = label_colors) +
base_theme +
theme(
axis.title.y = element_blank(),
plot.title = element_text(size = 36, family = "Palatino", hjust = 0.5, face = "bold"),
legend.position = "none",
axis.ticks.y = element_blank(),
axis.text.y = element_blank()
)
common_y_title <- ggplot() +
annotate("text", x = 0, y = 0.5, label = "Mean AUC",
angle = 90, size = 12, family = "Palatino", fontface = "bold") +
theme_void()
combined_plot <- p_in_scatter + p_out_scatter +
plot_layout(ncol = 2, widths = c(1, 1), guides = "collect")
final_plot <- (common_y_title + combined_plot) +
plot_layout(widths = c(0.05, 1)) +
plot_annotation(
caption = "Construction Frequency (Log Scale)",
theme = theme(
plot.caption = element_text(size = 30, family = "Palatino", hjust = 0.6, face = "bold", margin = margin(t = 15))
)
)
final_plot
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 7, width = 8, dpi = 10000)
ggsave(paste0("plots/frequency_source_sink_narrow", model_suffix,".pdf"), final_plot, device = pdf, height = 6.5, width = 8, dpi = 10000)
ggsave(paste0("plots/frequency_source_sink_narrow",".pdf"), final_plot, device = pdf, height = 6, width = 8, dpi = 10000)
